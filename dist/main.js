(()=>{var e={32:e=>{const t=/^[0-9]+$/,r=/^-?[0-9]+$/,i=/^[0-9a-fA-F]+$/,n=/^[a-zA-Z0-9-_]+$/;function a(e){return null===e?"null":"boolean"==typeof e?"boolean":"number"==typeof e?"number":"string"==typeof e?"string":Array.isArray(e)?"array":null!==e&&"object"==typeof e&&e.constructor===Object?"object":""}function o(e,r,i){return i=void 0===i?"":u(i,"'"),e="number"===a(e)?String(e):e,t.test(e)?!(BigInt(e)>2n**64n-1n&&(r.error(i+"must fit in an unsigned 64-bit integer"),1)):(r.error(i+`must be an uint64 (must match ${t})`),!1)}function s(e,t,i){return i=void 0===i?"":u(i,"'"),e="number"===a(e)?String(e):e,r.test(e)?!((e=BigInt(e))<(-2n)**(32n-1n)||e>2n**(32n-1n)-1n)||(t.error(i+"must fit in a signed 32-bit integer"),!1):(t.error(i+`must be an int32 (must match ${r})`),!1)}function l(e,t,i){return i=void 0===i?"":u(i,"'"),e="number"===a(e)?String(e):e,r.test(e)?!((e=BigInt(e))<(-2n)**(64n-1n)||e>2n**(64n-1n)-1n)||(t.error(i+"must fit in a signed 64-bit integer"),!1):(t.error(i+`must be an int64 (must match ${r})`),!1)}function u(e,t){return""===e?e:((e=e.trim()).startsWith(t)||(e=t+e),e.endsWith(t)||(e+=t),e+" ")}function g(e,t,r,i){if(i=void 0===i?"":u(i,"'"),t.length>r.max_filter_maps_per_filter_set)e.error(i+"array length exceeds the max filter maps per filter set limit");else for(let n=0;n<t.length;n++)if(c(e,t[n],r,i),e.errors.length>0)return}function c(e,t,r,i){if(i=void 0===i?"":u(i,"'"),Object.keys(t).length>r.max_attribution_filters)e.error(i+"exceeded max attribution filters");else for(key in t){if(keyString=u(key,"'"),r.should_check_filter_size&&new Blob([key]).size>r.max_bytes_per_attribution_filter_string)return void e.error(keyString+"exceeded max bytes per attribution filter string");if("_lookback_window"===key&&r["feature-lookback-window-filter"]){if(!r.can_include_lookback_window)return void e.error(i+"filter: _lookback_window is not allowed");if(!l(t[key],e,key))return;return Number(t[key])<0?void e.error("lookback_window must be a positive number"):void 0}if(key.startsWith("_"))return void e.error(keyString+"filter can not start with underscore");if(filterValues=t[key],"array"!==a(filterValues))return void e.error(keyString+"filter value must be an array");if(filterValues.length>r.max_values_per_attribution_filter)return void e.error(keyString+"exceeded max values per attribution filter");for(let t=0;t<filterValues.length;t++){let i=filterValues[t];if("string"!==a(i))return void e.error(keyString+"filter values must be strings");if(new Blob([i]).size>r.max_bytes_per_attribution_filter_string)return void e.error(u(i,"'")+"exceeded max bytes per attribution filter value string")}}}function d(e,t,r){for(key in t){let i=u(key,"'");if("_lookback_window"===key&&r["feature-lookback-window-filter"]){if("null"===a(t[key]))return void e.error(i+"must be a string or able to cast to string");if(!l(String(t[key]),e,key))return}else{if("array"!==a(t[key]))return void e.error(i+"filter value must be an array");let r=t[key];for(let t=0;t<r.length;t++)if("null"===a(r[t]))return void e.error(i+"filter values must be string or able to cast to string")}}}function _(e,t,r,i){i=void 0===i?"":u(i,"'"),null!==t&&""!==t?new Blob([t]).size>r.max_bytes_per_attribution_aggregate_key_id&&e.error(i+"exceeded max bytes per attribution aggregate key id string"):e.error(i+"null or empty aggregate key string")}function f(e,t,r){if(null===t||""===t)return void e.error("key piece value must not be null or empty string");if(!t.startsWith("0x")&&!t.startsWith("0X"))return void e.error("key piece value must start with '0x' or '0X'");let n=new Blob([t]).size;n<r.min_bytes_per_aggregate_value||n>r.max_bytes_per_aggregate_value?e.error("key piece value string size must be in the byte range (3 bytes - 34 bytes)"):t.substring(2).match(i)||e.error("key piece values must be hexadecimal")}function m(e,t,r){if(r=void 0===r?"":u(r,"'"),"array"===a(e)||"object"===a(e)){if("array"===a(e))for(let i=0;i<e.length;i++)if("object"!==a(e[i]))return void t.error(r+"must be an array of object(s)");return"object"===a(e)?[e]:e}t.error(r+"must be an object or an array")}e.exports={State:class{constructor(){this.path=[],this.errors=[],this.warnings=[]}error(e){this.errors.push({path:[...this.path],msg:e,formattedError:`${e}: \`${[...this.path]}\``})}warning(e){this.warnings.push({path:[...this.path],msg:e,formattedWarning:`${e}: \`${[...this.path]}\``})}scope(e,t){this.path.push(e),t(),this.path.pop()}result(){return{errors:this.errors,warnings:this.warnings}}validate(e,t){Object.entries(t).forEach((([t,r])=>{this.scope(t,(()=>r(this,t,e)))}))}},boolean:function(e=(()=>{}),t){return(r,i)=>{"boolean"!==a(i)?r.error("must be a boolean"):result=void 0===t?e(r,i):e(r,i,t)}},optBoolean:function(e=(()=>{}),t){return(r,i)=>{if("boolean"!==a(i)){if("string"===a(i)){if("true"===i.toLowerCase())return void(result=void 0===t?e(r,!0):e(r,!0,t));if("false"===i.toLowerCase())return void(result=void 0===t?e(r,!1):e(r,!1,t))}r.error("must be a boolean")}else result=void 0===t?e(r,i):e(r,i,t)}},optBooleanFallback:function(e=(()=>{}),t){return(r,i)=>{if("boolean"!==a(i)){if("string"===a(i)){if("true"===i)return void(result=void 0===t?e(r,!0):e(r,!0,t));if("false"===i)return void(result=void 0===t?e(r,!1):e(r,!1,t))}result=void 0===t?e(r,!1):e(r,!1,t)}else result=void 0===t?e(r,i):e(r,i,t)}},uint64:function(e=(()=>{}),r){return(i,n)=>{t.test(n)?BigInt(n)>2n**64n-1n?i.error("must fit in an unsigned 64-bit integer"):result=void 0===r?e(i,n):e(i,n,r):i.error(`must be an uint64 (must match ${t})`)}},int64:function(e=(()=>{}),t){return(i,n)=>{r.test(n)?(n=BigInt(n))<(-2n)**(64n-1n)||n>2n**(64n-1n)-1n?i.error("must fit in a signed 64-bit integer"):result=void 0===t?e(i,n):e(i,n,t):i.error(`must be an int64 (must match ${r})`)}},string:function(e=(()=>{}),t){return(r,i)=>{"string"!==a(i)?r.error("must be a string"):result=void 0===t?e(r,i):e(r,i,t)}},optString:function(e=(()=>{}),t){return(r,i)=>{"string"!==a(i)?"null"===a(i)?r.error("must be a string or able to cast to string"):result=void 0===t?e(r,String(i)):e(r,String(i),t):result=void 0===t?e(r,i):e(r,i,t)}},optStringFallback:function(e=(()=>{}),t){return(r,i)=>{"string"===a(i)?result=void 0===t?e(r,i):e(r,i,t):"null"!==a(i)?result=void 0===t?e(r,String(i)):e(r,String(i),t):result=void 0===t?e(r,""):e(r,"",t)}},object:function(e=(()=>{}),t){return(r,i)=>{"object"!==a(i)?r.error("must be an object"):result=void 0===t?e(r,i):e(r,i,t)}},array:function(e=(()=>{}),t){return(r,i)=>{"array"!==a(i)?r.error("must be an array"):result=void 0===t?e(r,i):e(r,i,t)}},optArray:function(e=(()=>{}),t,r){return(i,n)=>{if("array"!==a(n))return null!==t?a(n)===t?void(result=void 0===r?e(i,[n]):e(i,[n],r)):void i.error("must be a "+t+" or an array of "+t):"null"!==a(n)?void(result=void 0===r?e(i,[n]):e(i,[n],r)):void i.error("must be a array or able to cast to array");result=void 0===r?e(i,n):e(i,n,r)}},optional:function(e=(()=>{}),t){return(r,i,n)=>{i in n&&null!==n[i]&&(result=void 0===t?e(r,n[i]):e(r,n[i],t))}},getDataType:a,isValidAppDestinationHost:function(e,t){let r;try{r=new URL(t)}catch(t){return void e.error("invalid app URI format")}"android-app:"!==r.protocol&&e.error("app URI host/scheme is invalid")},isValidWebDestinationHost:function(e,r,i){for(element in r)if("string"!==a(element))return void e.error("must be a string or an array of strings");if(r.length>i.max_distinct_web_destinations_in_source_registration)e.error("exceeded max distinct web destinations");else if(0!==r.length)for(let a=0;a<r.length;a++){let o;try{o=new URL(r[a])}catch(t){return void e.error("invalid URL format")}if(!o.protocol)return void e.error("URL is missing scheme/protocol");if(!o.hostname)return void e.error("URL is missing hostname/domain");if("https:"===o.protocol&&("127.0.0.1"===o.hostname||"localhost"===o.hostname))return;let s=o.hostname.toLowerCase().replace(".。．｡",".");if("."===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),s.length>i.max_web_destination_hostname_character_length)return void e.error("URL hostname/domain exceeds max character length");let l=s.split(".");if(l.length>i.max_web_destination_hostname_parts)return void e.error("exceeded the max number of URL hostname parts");for(let r=0;r<l.length;r++){let a=l[r];if(a.length<i.min_web_destination_hostname_part_character_length||a.length>i.max_web_destination_hostname_part_character_length)return void e.error("URL hostname part character length must be in the range of 1-63");if(!a.match(n))return void e.error("URL hostname part character length must alphanumeric, hyphen, or underscore");if(invalidCharacters="-_",invalidCharacters.includes(a.charAt(0))||invalidCharacters.includes(a.charAt(a.length-1)))return void e.error("invalid URL hostname part starting/ending character (hypen/underscore)");if(r===l.length-1&&a.charAt(0).match(t))return void e.error("last hostname part can not start with a number")}}else e.error("no web destinations present")},isValidSourceFilterData:function(e,t,r){r.can_include_lookback_window=!1,r.should_check_filter_size=!0,"source_type"in t?e.error("filter: source_type is not allowed"):c(e,t,r)},isValidTriggerMatchingData:function(e,t){"modulus"===t.toLowerCase()||"exact"===t.toLowerCase()||e.error("value must be 'exact' or 'modulus' (case-insensitive)")},isValidAggregationKeys:function(e,t,r){if(Object.keys(t).length>r.max_aggregate_keys_per_source_registration)e.error("exceeded max number of aggregation keys per source registration");else for(aggregateKey in t){if(_(e,aggregateKey,r),e.errors.length>0)return;let i=t[aggregateKey];"string"!==a(i)&&"null"!==a(i)&&(i=String(i)),f(e,i,r)}},isValidAttributionScopes:function(e,t,r){if("source"===r.header_type){if(!r.attribution_scope_limit_present&&t.length>0)return void e.error("attribution scopes array must be empty if attribution scope limit is not present");if(!r.attribution_scope_limit_present&&r.max_event_states_present)return void e.error("max event states must not be present if attribution scope limit is not present");if(r.attribution_scope_limit_present&&t.length>r.attribution_scope_limit_value)return void e.error("attribution scopes array size exceeds the provided attribution_scope_limit")}for(let r=0;r<t.length;r++)if("string"!==a(t[r]))return void e.error("must be an array of strings");if(t.length>r.max_attribution_scopes_per_source)e.error("exceeded max number of scopes per source");else for(let i=0;i<t.length;i++)if(t[i].length>r.max_attribution_scope_string_length)return void e.error("exceeded max scope string length")},isValidAttributionScopeLimit:function(e,t,r){t<=0&&e.error("must be greater than 0"),r.attribution_scope_limit_value=t},isValidMaxEventStates:function(e,t,r){t<=0&&e.error("must be greater than 0"),t>r.max_report_states_per_source_registration&&e.error("exceeds max report states per source registration")},isValidXNetworkKeyMapping:function(e,t){for(key in t){if(xNetworkValue=t[key],null===xNetworkValue)return void e.error("all values must be non-null");if("string"!==a(xNetworkValue))return void e.error("all values must be strings");if(!xNetworkValue.startsWith("0x"))return void e.error("all values must start with 0x")}},isValidAggregationCoordinatorOrigin:function(e,t){if(""!==t)try{url=new URL(t)}catch(t){return void e.error("invalid URL format")}else e.error("value must be non-empty")},isValidAggregatableSourceRegistrationTime:function(e,t,r){"INCLUDE"===t.toUpperCase()||"EXCLUDE"===t.toUpperCase()?r.aggregatable_source_registration_time_value=t.toUpperCase():e.error("must equal 'INCLUDE' or 'EXCLUDE' (case-insensitive)")},isValidTriggerContextId:function(e,t,r){"INCLUDE"!==r.aggregatable_source_registration_time_value?t.length>r.max_trigger_context_id_string_length&&e.error("max string length exceeded"):e.error("aggregatable_source_registration_time must not have the value 'INCLUDE'")},isValidEventTriggerData:function(e,t,r){r.can_include_lookback_window=!0,r.should_check_filter_size=!r["feature-enable-update-trigger-header-limit"];for(let r=0;r<t.length;r++)if("object"!==a(t[r]))return void e.error("must be an array of object(s)");for(let i=0;i<t.length;i++){let n=t[i];for(key in n){if("trigger_data"===key&&null!==n[key]){if("string"!==a(n[key]))return void e.error("'trigger_data' must be a string");if(!o(n[key],e,key))return}if("priority"===key&&null!==n[key]){if("string"!==a(n[key]))return void e.error("'priority' must be a string");if(!l(n[key],e,key))return}if("value"===key&&null!==n[key]){if("number"!==a(n[key]))return void e.error("'value' must be a number");if(!l(n[key],e,key))return;if(n[key]<1)return void e.error("'value' must be greater than 0");if(n[key]>r.max_bucket_threshold)return void e.error("'value' exceeds max threshold of "+r.max_bucket_threshold)}if("deduplication_key"===key&&null!==n[key]){if("string"!==a(n[key]))return void e.error("'deduplication_key' must be a string");if(!o(n[key],e,key))return}if(("filters"===key||"not_filters"===key)&&null!==n[key]){let t=m(n[key],e,key);if(e.errors.length>0)return;g(e,t,r,key)}}}},isValidAggregatableTriggerData:function(e,t,r){r.can_include_lookback_window=!0,r.should_check_filter_size=!r["feature-enable-update-trigger-header-limit"];for(let r=0;r<t.length;r++)if("object"!==a(t[r]))return void e.error("must be an array of object(s)");for(let i=0;i<t.length;i++){let n=t[i];if(!("key_piece"in n))return void e.error("'key_piece' must be present in each element/object of the array");for(key in n){if("key_piece"===key&&(f(e,n[key],r),e.errors.length>0))return;if("source_keys"===key&&null!==n[key]){if("array"!==a(n[key]))return void e.error("'source_keys' must be an array");if(r.should_check_filter_size&&n[key].length>r.max_aggregate_keys_per_trigger_registration)return void e.error("'source_keys' array size exceeds max aggregate keys per trigger registration limit");for(let t=0;t<n[key].length;t++){if("string"!==a(n[key][t]))return void e.error("each element in 'source_keys' must be a string");if(_(e,n[key][t],r,key),e.errors.length>0)return}}if(("filters"===key||"not_filters"===key)&&null!==n[key]){let t=m(n[key],e,key);if(e.errors.length>0)return;if(g(e,t,r,key),e.errors.length>0)return}if("x_network_data"===key&&null!==n[key]&&"object"!==a(n[key]))return void e.error("'x_network_data' must be an object")}}},isValidAggregatableValues:function(e,t,r){if(r.should_check_filter_size=!r["feature-enable-update-trigger-header-limit"],r.should_check_filter_size&&Object.keys(t).length>r.max_aggregate_keys_per_trigger_registration)e.error("exceeds max aggregate keys per trigger registration");else for(aggregateKey in t){if(_(e,aggregateKey,r),e.errors.length>0)return;if("number"!==a(t[aggregateKey]))return void e.error("aggregate key value must be a number");if(!s(t[aggregateKey],e))return;if(t[aggregateKey]<1)return void e.error("aggregate key value must be greater than 0");if(t[aggregateKey]>r.max_sum_of_aggregate_values_per_source)return void e.error("aggregate key value exceeds the max sum of aggregate values per source")}},isValidTriggerFilters:function(e,t,r){r.can_include_lookback_window=!0,r.should_check_filter_size=!r["feature-enable-update-trigger-header-limit"];let i=m(t,e);e.errors.length>0||g(e,i,r)},isValidAggregatableDeduplicationKey:function(e,t,r){if(r.can_include_lookback_window=!0,r.should_check_filter_size=!r["feature-enable-update-trigger-header-limit"],t.length>r.max_aggregate_deduplication_keys_per_registration)e.error("exceeds max aggregate deduplication keys per registration limit");else{for(let r=0;r<t.length;r++)if("object"!==a(t[r]))return void e.error("must be an array of object(s)");for(let i=0;i<t.length;i++){let n=t[i];for(key in n){if("deduplication_key"===key&&null!==n[key]){if("string"!==a(n[key]))return void e.error(u(key,"'")+"must be a string");if(!o(n[key],e,key))return}if(("filters"===key||"not_filters"===key)&&null!==n[key]){let t=m(n[key],e,key);if(e.errors.length>0)return;if(g(e,t,r,key),e.errors.length>0)return}}}}},isValidAttributionConfig:function(e,t,r){for(let r=0;r<t.length;r++)if("object"!==a(t[r]))return void e.error("must be an array of object(s)");for(let i=0;i<t.length;i++){let n=t[i];if(!("source_network"in n)||null===n.source_network)return void e.error("'source_network' must be present and non-null in each element/object of the array");for(key in n){if("source_network"===key&&"null"===a(n[key]))return void e.error(u(key,"'")+"must be a string or able to cast to string");if("source_priority_range"===key&&null!==n[key]){if("object"!==a(n[key]))return void e.error(u(key,"'")+"must be an object");if(!("start"in n[key])||!("end"in n[key]))return void e.error(u(key,"'")+"both keys ('start','end') must be present");if(null===n[key].start||null===n[key].end)return void e.error(u(key,"'")+"both key values (start, end) must be string or able to cast to string");if(!l(n[key].start,e,"start")||!l(n[key].end,e,"end"))return}if(("source_filters"===key||"source_not_filters"===key||"filter_data"===key)&&null!==n[key]){let t=m(n[key],e,key);if(e.errors.length>0)return;for(let i=0;i<t.length;i++)if(d(e,t[i],r),e.errors.length>0)return}if(("source_expiry_override"===key||"priority"===key||"expiry"===key||"post_install_exclusivity_window"===key)&&null!==n[key]&&!l(n[key],e,key))return}}}}},554:(e,t,r)=>{const{State:i,optBoolean:n,optBooleanFallback:a,uint64:o,int64:s,string:l,optString:u,optStringFallback:g,object:c,array:d,optArray:_,optional:f,isValidAppDestinationHost:m,isValidWebDestinationHost:h,isValidSourceFilterData:b,isValidTriggerMatchingData:y,isValidAggregationKeys:k,isValidAttributionScopes:p,isValidAttributionScopeLimit:v,isValidMaxEventStates:x}=r(32);e.exports={validateSource:function(e,t){try{sourceJSON=JSON.parse(e)}catch(e){return{errors:[e instanceof Error?e.toString():"unknown error"],warnings:[]}}const r=new i;let w={};return"destination"in sourceJSON&&null!==sourceJSON.destination||"web_destination"in sourceJSON&&null!==sourceJSON.web_destination?(w.destination=f(u(m)),w.web_destination=f(),w.source_event_id=f(l(o())),w.expiry=f(u(o())),w.event_report_window=f(u(o())),w.aggregatable_report_window=f(u(o())),w.priority=f(l(s())),w.debug_key=f(l(o())),w.debug_reporting=f(a()),w.install_attribution_window=f(u(s())),w.post_install_exclusivity_window=f(u(s())),w.debug_ad_id=f(g()),w.debug_join_key=f(g()),w.web_destination=f(_(h,"string",t)),w.filter_data=f(c(b,t)),w.aggregation_keys=f(c(k,t)),t["feature-attribution-scopes"]&&(t.max_event_states_present="max_event_states"in sourceJSON,t.attribution_scope_limit_present="attribution_scope_limit"in sourceJSON,w.attribution_scope_limit=f(u(s(v,t))),w.max_event_states=f(u(s(x,t))),w.attribution_scopes=f(d(p,t))),t["feature-trigger-data-matching"]&&(w.trigger_data_matching=f(u(y))),t["feature-coarse-event-report-destination"]&&(w.coarse_event_report_destinations=f(n())),t["feature-shared-source-debug-key"]&&(w.shared_debug_key=f(u(o()))),t["feature-xna"]&&(w.shared_aggregation_keys=f(d())),t["feature-shared-filter-data-keys"]&&(w.shared_filter_data_keys=f(d())),t["feature-preinstall-check"]&&(w.drop_source_if_installed=f(n())),t["feature-enable-reinstall-reattribution"]&&(w.reinstall_reattribution_window=f(u(s()))),r.validate(sourceJSON,w,t),r.result()):{errors:[{path:["destination or web_destination"],msg:"At least one field must be present and non-null",formattedError:"at least one field must be present and non-null: `destination or web_destination`"}],warnings:[]}}}},731:(e,t,r)=>{const{State:i,optional:n,uint64:a,string:o,array:s,optBooleanFallback:l,optString:u,optStringFallback:g,object:c,isValidAttributionScopes:d,isValidXNetworkKeyMapping:_,isValidAggregationCoordinatorOrigin:f,isValidAggregatableSourceRegistrationTime:m,isValidTriggerContextId:h,isValidEventTriggerData:b,isValidAggregatableTriggerData:y,isValidAggregatableValues:k,isValidTriggerFilters:p,isValidAggregatableDeduplicationKey:v,isValidAttributionConfig:x}=r(32);e.exports={validateTrigger:function(e,t){try{triggerJSON=JSON.parse(e)}catch(e){return{errors:[e instanceof Error?e.toString():"unknown error"],warnings:[]}}const r=new i;let w={};return w.debug_key=n(o(a())),w.debug_join_key=n(g()),w.debug_reporting=n(l()),w.debug_ad_id=n(g()),w.event_trigger_data=n(s(b,t)),w.aggregatable_trigger_data=n(s(y,t)),w.aggregatable_values=n(c(k,t)),w.filters=n(p,t),w.not_filters=n(p,t),w.aggregatable_deduplication_keys=n(s(v,t)),t["feature-attribution-scopes"]&&(w.attribution_scopes=n(s(d,t))),t["feature-xna"]&&(w.x_network_key_mapping=n(c(_)),w.attribution_config=n(s(x,t))),t["feature-aggregation-coordinator-origin"]&&(w.aggregation_coordinator_origin=n(u(f))),t["feature-source-registration-time-optional-for-agg-reports"]&&(w.aggregatable_source_registration_time=n(g(m,t))),t["feature-trigger-context-id"]&&(w.trigger_context_id=n(o(h,t))),r.validate(triggerJSON,w,t),r.result()}}}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,r),a.exports}(()=>{const{validateSource:e}=r(554),{validateTrigger:t}=r(731),i=document.getElementById("validation-form"),n=document.getElementById("input-text"),a=i.elements.namedItem("header"),o=i.elements.namedItem("feature-lookback-window-filter"),s=i.elements.namedItem("feature-trigger-data-matching"),l=i.elements.namedItem("feature-coarse-event-report-destination"),u=i.elements.namedItem("feature-shared-source-debug-key"),g=i.elements.namedItem("feature-xna"),c=i.elements.namedItem("feature-shared-filter-data-keys"),d=i.elements.namedItem("feature-preinstall-check"),_=i.elements.namedItem("feature-attribution-scopes"),f=i.elements.namedItem("feature-aggregation-coordinator-origin"),m=i.elements.namedItem("feature-source-registration-time-optional-for-agg-reports"),h=i.elements.namedItem("feature-trigger-context-id"),b=i.elements.namedItem("feature-enable-update-trigger-header-limit"),y=i.elements.namedItem("feature-enable-reinstall-reattribution"),k=document.getElementById("linkify"),p=document.getElementById("errors"),v=document.getElementById("warnings"),x=document.getElementById("notes"),w=document.getElementById("success");function S(e,t){e.replaceChildren([]),t.forEach((function(t){let r=document.createElement("li");r.textContent="string"==typeof t?t:t.msg+": "+t.path,e.appendChild(r)}))}function V(){let r,i={};i["feature-lookback-window-filter"]=o.checked,i["feature-trigger-data-matching"]=s.checked,i["feature-coarse-event-report-destination"]=l.checked,i["feature-shared-source-debug-key"]=u.checked,i["feature-xna"]=g.checked,i["feature-shared-filter-data-keys"]=c.checked,i["feature-preinstall-check"]=d.checked,i["feature-attribution-scopes"]=_.checked,i["feature-aggregation-coordinator-origin"]=f.checked,i["feature-source-registration-time-optional-for-agg-reports"]=m.checked,i["feature-trigger-context-id"]=h.checked,i["feature-enable-update-trigger-header-limit"]=b.checked,i["feature-enable-reinstall-reattribution"]=y.checked,i.max_attribution_filters=50,i.max_bytes_per_attribution_filter_string=25,i.max_values_per_attribution_filter=50,i.max_distinct_web_destinations_in_source_registration=3,i.max_web_destination_hostname_character_length=253,i.max_web_destination_hostname_parts=127,i.min_web_destination_hostname_part_character_length=1,i.max_web_destination_hostname_part_character_length=63,i.max_aggregate_keys_per_source_registration=50,i.max_bytes_per_attribution_aggregate_key_id=25,i.min_bytes_per_aggregate_value=3,i.max_bytes_per_aggregate_value=34,i.max_attribution_scopes_per_source=20,i.max_attribution_scope_string_length=50,i.max_report_states_per_source_registration=(1n<<32n)-1n,i.max_trigger_context_id_string_length=64,i.max_bucket_threshold=(1n<<32n)-1n,i.max_filter_maps_per_filter_set=5,i.max_aggregate_keys_per_trigger_registration=50,i.max_sum_of_aggregate_values_per_source=65536,i.max_aggregate_deduplication_keys_per_registration=50,i.header_type=a.value,"source"===a.value?r=e(n.value,i):"trigger"===a.value&&(r=t(n.value,i)),w.textContent=0===r.errors.length&&0===r.warnings.length?"The header is valid.":"",S(p,r.errors),S(v,r.warnings),S(x,[])}i.addEventListener("input",V),k.addEventListener("click",(async function(){const e=new URL(location.toString());e.search="",e.searchParams.set("header",a.value),e.searchParams.set("json",n.value),e.searchParams.set("feature-lookback-window-filter",o.checked.toString()),e.searchParams.set("feature-trigger-data-matching",s.checked.toString()),e.searchParams.set("feature-coarse-event-report-destination",l.checked.toString()),e.searchParams.set("feature-shared-source-debug-key",u.checked.toString()),e.searchParams.set("feature-xna",g.checked.toString()),e.searchParams.set("feature-shared-filter-data-keys",c.checked.toString()),e.searchParams.set("feature-preinstall-check",d.checked.toString()),e.searchParams.set("feature-attribution-scopes",_.checked.toString()),e.searchParams.set("feature-aggregation-coordinator-origin",f.checked.toString()),e.searchParams.set("feature-source-registration-time-optional-for-agg-reports",m.checked.toString()),e.searchParams.set("feature-trigger-context-id",h.checked.toString()),e.searchParams.set("feature-enable-update-trigger-header-limit",b.checked.toString()),e.searchParams.set("feature-enable-reinstall-reattribution",y.checked.toString()),await navigator.clipboard.writeText(e.toString())})),V()})()})();